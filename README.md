# üöÄ LumiTemp Data Logger IoT - Environmental Monitoring

This project implements a **data logger device** aimed at **monitoring environmental conditions** in controlled spaces such as rooms, greenhouses, or sensitive environments. The system monitors **temperature**, **relative humidity**, and **luminosity** in real time, utilizing the **Internet of Things (IoT)** concept to collect, store, and transmit the data.

## üõ†Ô∏è Key Features

- **Temperature and Humidity Sensors**: DHT-11
- **Luminosity Sensor**: LDR (Light Dependent Resistor)
- **Microcontroller**: ESP32 Doit DEVKIT V1
- **Backend Platform**: FIWARE Descomplicado
- **Storage**: MongoDB via STH-Comet
- **Real-Time Clock**: Timestamp generated by the Orion Context Broker
- **User Interface**: Dashboard in Python
- **LED**: Visual indicator of the ESP32 Doit DEVKIT V1, triggered when temperature, humidity, or luminosity values go outside the predefined range.

## üìã Technical Specifications

- **Microcontroller**: ESP32 Doit DEVKIT V1
  - ESP32 chip with Wi-Fi and Bluetooth connectivity.
  - Used to read the sensors and send data to the server via Wi-Fi.

- **Sensors**:
  - **DHT-11**: Temperature and humidity sensor, with a temperature range from 0 to 50¬∞C and humidity from 20% to 90%.
  - **LDR**: Luminosity sensor to measure ambient light intensity.

- **Backend and Storage**:
  - **FIWARE Descomplicado**: Platform for integrating IoT devices.
  - **STH-Comet**: Data storage in MongoDB via the Historical Service (STH).

- **User Interface**:
  - **Dashboard in Python**: Graphical interface for real-time data monitoring.

- **Real-Time Clock**:
  - The timestamp of collected data is generated by the **Orion Context Broker**.

## üìã System Operation and General Function Manual

### 1. INITIALIZATION

The system is powered and controlled by the ESP32 microcontroller, which automatically starts collecting data from the temperature, humidity, and luminosity sensors as soon as it is powered on. The system establishes a Wi-Fi connection to communicate with the **FIWARE Descomplicado** platform and transmits the data to the backend in real time.

Upon startup, the ESP32 performs a brief hardware and sensor connection check and displays the collected data on the **Python dashboard**, if it is configured and running.

### 2. PARAMETER MEASUREMENT

- **Temperature and Humidity**: The DHT-11 sensor collects the temperature and humidity values from the environment. These values are transmitted to the ESP32, which sends them to the backend for storage and display.
- **Luminosity**: The LDR sensor measures the light intensity in the environment and transmits this data to the ESP32, which sends the values to the backend and displays the readings in real time on the dashboard.

### 3. LED ACTIVATION

The system uses the ESP32's LED as a visual indicator of environmental status. When the temperature, humidity, or luminosity values exceed the predefined limits (Temperature: 15¬∞C < t < 25¬∞C; Luminosity: 0% < l < 30%; Humidity: 30% < u < 50%), the LED is activated, signaling that one or more environmental conditions are outside the ideal range.

### 4. INFORMATION DISPLAY

Data monitoring is done via the **Python dashboard**:

- The **temperature, humidity, and luminosity** values are displayed in real time, allowing direct monitoring of environmental parameters.
- When any parameter exceeds the configured limits, the **LED** lights up on the device, and the critical status is shown on the dashboard.
- The data is timestamped by the **Orion Context Broker**, ensuring the exact moment of data collection is recorded.

### 5. DATA STORAGE

The system uses **STH-Comet** to store the data in MongoDB through the **FIWARE Descomplicado** platform. All records of temperature, humidity, and luminosity are stored in the database and can be queried for historical analysis, allowing environmental trends to be tracked over time.

### 6. SYSTEM RESET AND MAINTENANCE

If needed, the system can be reset by manually restarting the ESP32 or using specific commands on the development platform. Additionally, the operating range of the sensors can be adjusted directly in the device's source code, allowing the alert limits to be customized according to the environment.

---

## üì¶ Bill of Materials

- **ESP32 Doit DEVKIT V1**: Microcontroller with Wi-Fi and Bluetooth.
- **DHT-11**: Temperature and humidity sensor.
- **LDR**: Luminosity sensor.
- **10kŒ© Resistor**: For the LDR sensor.
- **Breadboard**: For prototyping.
- **Jumper Wires**: To connect components.
- **Resistors**: For configuring the LED and sensors.

## ‚ö° Circuit Diagram

![Wokwi Circuit Diagram](https://github.com/L1K3D/LumiTemp-V2/blob/main/Diagrama%20El%C3%A9trico%20Wokwi.png?raw=true)

![Physical Circuit Diagram](https://github.com/L1K3D/LumiTemp-V2/blob/main/Diagrama%20el%C3%A9trico%20F%C3%ADsico.jpg?raw=true)

## üîÑ Operation Flow

1. **Sensor Reading**:
   - The **DHT-11** reads the temperature and humidity values.
   - The **LDR** reads the luminosity values in the environment.
   
2. **Processing on the ESP32**:
   - The ESP32 collects the sensor data periodically and processes the values.

3. **Sending to Backend**:
   - The data is sent via Wi-Fi to the **FIWARE Descomplicado** platform.
   - The data is stored in the **MongoDB** database via **STH-Comet**.

4. **Monitoring and Notification**:
   - The **Orion Context Broker** generates timestamps for each data collected.
   - The **Python dashboard** allows viewing the data in real time.
   - If any temperature, humidity, or luminosity value exceeds the predefined limits, the **LED** is activated as a visual alert.

## üñß LumiTemp Data Logger IoT Architecture

![LumiTemp Architecture](https://github.com/L1K3D/LumiTemp-V2/blob/main/Arquitetura%20LumiTemp.jpeg?raw=true)

## ‚öôÔ∏è How to Set Up

### 1. Connect the Sensors to the ESP32

- Connect the **DHT-11** to pin 4 of the ESP32 (data pin).
- Connect the **LDR** to the analog pin of the ESP32 (e.g., A0).
- Connect the **LED** to the digital pin of the ESP32 (e.g., D2).

### 2. Backend Configuration

- Create an instance of **FIWARE Descomplicado** to manage the data.
- Configure the backend to store the data in the **MongoDB** database, using **STH-Comet**.
- Configure the **Orion Context Broker** to generate timestamps for the collected data.

### 3. User Interface Configuration

- Install and configure the **Python dashboard**. It will connect to the backend to display data graphically in real time.

### 4. Running the System

- After connecting the hardware and configuring the backend, the device will begin collecting data from the sensors. The LED will be activated whenever any parameter goes outside the ideal range, and the data will be sent and displayed in real time on the dashboard.

---

## ü§ù Project Members

- Enzo Brito Alves de Oliveira - RA: 082220040
- Erikson Vieira Queiroz - RA: 082220021
- Guilherme Alves Barbosa - RA: 082220014
- Heitor Santos Ferreira - RA: 081230042
- Tainara do Nascimento Casimiro - RA: 082220011
- William Santim - RA: 082220033

## üé• Demonstration Video

- Link: https://youtu.be/Guy3ixSGLvA

---
